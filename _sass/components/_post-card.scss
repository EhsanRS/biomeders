// ============================================
// POST CARD COMPONENT
// Blog post preview cards for listings
// ============================================

@use '../abstracts/mixins' as *;

.post-card {
  display: flex;
  flex-direction: column;
  background-color: var(--bg-surface);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  overflow: hidden;
  @include transition-colors;

  &:hover {
    border-color: var(--border-strong);

    .post-card__title a {
      color: var(--accent-primary);
    }
  }

  // Featured image
  &__image-link {
    display: block;
    aspect-ratio: 16 / 9;
    overflow: hidden;
    background-color: var(--bg-muted);
  }

  &__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 300ms ease;

    .post-card:hover & {
      transform: scale(1.02);
    }
  }

  // Content area
  &__content {
    display: flex;
    flex-direction: column;
    flex: 1;
    padding: var(--space-5);
  }

  // Meta info (category, reading time)
  &__meta {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-3);
    font-size: var(--text-xs);
    color: var(--text-muted);
  }

  &__category {
    color: var(--accent-primary);
    text-decoration: none;
    font-weight: var(--font-medium);
    text-transform: uppercase;
    letter-spacing: 0.025em;

    &:hover {
      text-decoration: underline;
    }
  }

  &__reading-time {
    display: flex;
    align-items: center;
    gap: var(--space-1);

    svg {
      width: 12px;
      height: 12px;
    }
  }

  // Title
  &__title {
    font-size: var(--text-lg);
    font-weight: var(--font-semibold);
    line-height: var(--leading-snug);
    margin-bottom: var(--space-2);

    a {
      color: var(--text-primary);
      text-decoration: none;
      @include transition-colors;
    }
  }

  // Excerpt
  &__excerpt {
    flex: 1;
    color: var(--text-secondary);
    font-size: var(--text-sm);
    line-height: var(--leading-relaxed);
    margin-bottom: var(--space-4);

    // Limit to 3 lines
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  // Footer (date, tags)
  &__footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: var(--space-2);
    margin-top: auto;
  }

  &__date {
    font-size: var(--text-xs);
    color: var(--text-muted);
  }

  &__tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-1);
  }
}

// Horizontal card variant
.post-card--horizontal {
  flex-direction: row;

  .post-card__image-link {
    flex-shrink: 0;
    width: 200px;
    aspect-ratio: 4 / 3;

    @include breakpoint('md') {
      width: 280px;
    }
  }

  .post-card__content {
    flex: 1;
    min-width: 0;
  }
}

// Featured card (larger)
.post-card--featured {
  .post-card__image-link {
    aspect-ratio: 2 / 1;
  }

  .post-card__title {
    font-size: var(--text-xl);

    @include breakpoint('md') {
      font-size: var(--text-2xl);
    }
  }

  .post-card__excerpt {
    font-size: var(--text-base);
    -webkit-line-clamp: 4;
  }
}

// Minimal card (no image)
.post-card--minimal {
  .post-card__image-link {
    display: none;
  }

  .post-card__content {
    padding: var(--space-4);
  }

  .post-card__title {
    font-size: var(--text-base);
  }

  .post-card__excerpt {
    -webkit-line-clamp: 2;
  }
}
